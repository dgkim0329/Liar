<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>88ë³„ìë¦¬ ë¼ì´ì–´ ê²Œì„</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #1e1e2f, #3a3a5d);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 2em;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
      max-width: 400px;
      width: 90%;
      transition: all 0.3s ease-in-out;
    }

    h1 {
      margin-top: 0;
      font-size: 1.8em;
      color: #ffdc91;
    }

    h2 {
      color: #ffd369;
    }

    label, input, p {
      font-size: 1.1em;
      margin-top: 0.5em;
    }

    input[type="number"] {
      padding: 0.3em;
      width: 80px;
      font-size: 1em;
      border-radius: 8px;
      border: none;
    }

    button {
      margin-top: 1em;
      padding: 0.6em 1.4em;
      font-size: 1.1em;
      border: none;
      border-radius: 10px;
      background-color: #ffd369;
      color: #222;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    button:hover {
      background-color: #ffc247;
    }

    .hidden {
      display: none;
    }

    .highlight-word {
      font-size: 1.2em;
      font-weight: bold;
      color: white;
      margin-top: 0.5em;
      padding: 0.5em;
      display: inline-block;
    }
  </style>
</head>
<body>
  <div class="card" id="setup">
    <h1>ğŸŒŒ 88ë³„ìë¦¬ ë¼ì´ì–´ ê²Œì„</h1>
    <label>ì°¸ê°€ì ìˆ˜: <input type="number" id="playerCount" min="3" max="20" /></label><br /><br />
    <label><input type="radio" name="mode" value="normal" checked /> ì¼ë°˜ ëª¨ë“œ</label><br />
    <label><input type="radio" name="mode" value="fool" /> ë°”ë³´ ëª¨ë“œ </label><br />
    <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
  </div>

  <div class="card hidden" id="reveal">
    <h2 id="playerTurn"></h2>
    <p id="wordInfo">ì œì‹œì–´ë¥¼ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.</p>
    <button onclick="nextPlayer()">ë‹¤ìŒ</button>
  </div>

  <div class="card hidden" id="end">
    <h2>âœ… ì „ë‹¬ ì™„ë£Œ!</h2>
    <p>ëª¨ë‘ê°€ í™•ì¸í–ˆìŠµë‹ˆë‹¤. í† ë¡ ì„ ì‹œì‘í•˜ì„¸ìš”!</p>
    <button onclick="restartGame()">ì²˜ìŒìœ¼ë¡œ</button>
  </div>

  <script>
    const constellations = [
      "ì•ˆë“œë¡œë©”ë‹¤ìë¦¬ (And)",
      "ê³µê¸°íŒí”„ìë¦¬ (Ant)",
      "ê·¹ë½ì¡°ìë¦¬ (Ara)",
      "ë¬¼ë³‘ìë¦¬ (Aqr)",
      "ë…ìˆ˜ë¦¬ìë¦¬ (Aql)",
      "ì œë‹¨ìë¦¬ (Ara)",
      "ì–‘ìë¦¬ (Ari)",
      "ë§ˆì°¨ë¶€ìë¦¬ (Aur)",
      "ëª©ë™ìë¦¬ (Boo)",
      "ì¡°ê°ì¹¼ìë¦¬ (Cam)",
      "ê¸°ë¦°ìë¦¬ (Cam)",
      "ê²Œìë¦¬ (Cnc)",
      "ì‚¬ëƒ¥ê°œìë¦¬ (Crt)",
      "í°ê°œìë¦¬ (Cma)",
      "ì‘ì€ê°œìë¦¬ (CMi)",
      "ì—¼ì†Œìë¦¬ (Cap)",
      "ìš©ê³¨ìë¦¬ (Car)",
      "ì¹´ì‹œì˜¤í˜ì´ì•„ìë¦¬ (Cas)",
      "ì„¼íƒ€ìš°ë£¨ìŠ¤ìë¦¬ (Cen)",
      "ì„¸í˜ìš°ìŠ¤ìë¦¬ (Cep)",
      "ê³ ë˜ìë¦¬ (Cet)",
      "ì¹´ë©œë ˆì˜¨ìë¦¬ (Cha)",
      "ì»´í¼ìŠ¤ìë¦¬ (Cmp)",
      "ë¹„ë‘˜ê¸°ìë¦¬ (Col)",
      "ë¨¸ë¦¬í„¸ìë¦¬ (Com)",
      "ë‚¨ìª½ì™•ê´€ìë¦¬ (CrA)",
      "ë¶ìª½ì™•ê´€ìë¦¬ (CrB)",
      "ê¹Œë§ˆê·€ìë¦¬ (Crv)",
      "ì»µìë¦¬ (Cru)",
      "ë‚¨ì‹­ììë¦¬ (Cru)",
      "ë°±ì¡°ìë¦¬ (Cyg)",
      "ëŒê³ ë˜ìë¦¬ (Del)",
      "í™©ìƒˆì¹˜ìë¦¬ (Dor)",
      "ìš©ìë¦¬ (Dra)",
      "ì¡°ë‘ë§ìë¦¬ (Equ)",
      "ì—ë¦¬ë‹¤ëˆ„ìŠ¤ìë¦¬ (Eri)",
      "í™”ë¡œìë¦¬ (For)",
      "ìŒë‘¥ì´ìë¦¬ (Gem)",
      "ë‘ë£¨ë¯¸ìë¦¬ (Gru)",
      "í—¤ë¥´ì¿¨ë ˆìŠ¤ìë¦¬ (Her)",
      "ì‹œê³„ìë¦¬ (Hor)",
      "ë°”ë‹¤ë±€ìë¦¬ (Hyd)",
      "ë¬¼ë±€ìë¦¬ (Hyi)",
      "ì¸ë””ì–¸ìë¦¬ (Ind)",
      "ë„ë§ˆë±€ìë¦¬ (Lac)",
      "ì‚¬ììë¦¬ (Leo)",
      "ì‘ì€ì‚¬ììë¦¬ (LMi)",
      "í† ë¼ìë¦¬ (Lep)",
      "ì²œì¹­ìë¦¬ (Lib)",
      "ì´ë¦¬ìë¦¬ (Lup)",
      "ì‚´ì¾¡ì´ìë¦¬ (Lyn)",
      "ê±°ë¬¸ê³ ìë¦¬ (Lyr)",
      "í…Œì´ë¸”ì‚°ìë¦¬ (Men)",
      "í˜„ë¯¸ê²½ìë¦¬ (Mic)",
      "ì™¸ë¿”ì†Œìë¦¬ (Mon)",
      "íŒŒë¦¬ìë¦¬ (Mus)",
      "ì§ê°ììë¦¬ (Nor)",
      "íŒ”ë¶„ì˜ìë¦¬ (Oct)",
      "ë±€ì£¼ì¸ìë¦¬ (Oph)",
      "ì˜¤ë¦¬ì˜¨ìë¦¬ (Ori)",
      "ê³µì‘ìë¦¬ (Pav)",
      "í˜ê°€ìˆ˜ìŠ¤ìë¦¬ (Peg)",
      "í˜ë¥´ì„¸ìš°ìŠ¤ìë¦¬ (Per)",
      "ë¶ˆì‚¬ì¡°ìë¦¬ (Phe)",
      "í™”ê°€ìë¦¬ (Pic)",
      "ë¬¼ê³ ê¸°ìë¦¬ (Psc)",
      "ë‚¨ìª½ë¬¼ê³ ê¸°ìë¦¬ (PsA)",
      "ê³ ë¬¼ìë¦¬ (Pup)",
      "ë‚˜ì¹¨ë°˜ìë¦¬ (Pyx)",
      "ê·¸ë¬¼ìë¦¬ (Ret)",
      "í™”ì‚´ìë¦¬ (Sge)",
      "ê¶ìˆ˜ìë¦¬ (Sgr)",
      "ì „ê°ˆìë¦¬ (Sco)",
      "ì¡°ê°ê°€ìë¦¬ (Scl)",
      "ë°©íŒ¨ìë¦¬ (Sct)",
      "ë±€ìë¦¬ (Ser)",
      "ìœ¡ë¶„ì˜ìë¦¬ (Sex)",
      "í™©ì†Œìë¦¬ (Tau)",
      "ë§ì›ê²½ìë¦¬ (Tel)",
      "ì‚¼ê°í˜•ìë¦¬ (Tri)",
      "ë‚¨ìª½ì‚¼ê°í˜•ìë¦¬ (TrA)",
      "í°ë¶€ë¦¬ìƒˆìë¦¬ (Tuc)",
      "í°ê³°ìë¦¬ (UMa)",
      "ì‘ì€ê³°ìë¦¬ (UMi)",
      "ë›ìë¦¬ (Vel)",
      "ì²˜ë…€ìë¦¬ (Vir)",
      "ë‚ ì¹˜ìë¦¬ (Vol)",
      "ì—¬ìš°ìë¦¬ (Vul)",
    ];

    let players = [];
    let liarIndex = 0;
    let secretWord = '';
    let fakeWord = '';
    let currentIndex = 0;
    let mode = 'normal';
    let showed = false;

    function startGame() {
      const count = parseInt(document.getElementById("playerCount").value);
      if (isNaN(count) || count < 3) {
        alert("ì°¸ê°€ìëŠ” ìµœì†Œ 3ëª…ì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
        return;
      }

      const selectedMode = document.querySelector('input[name="mode"]:checked');
      mode = selectedMode ? selectedMode.value : 'normal';

      secretWord = constellations[Math.floor(Math.random() * constellations.length)];
      liarIndex = Math.floor(Math.random() * count);

      if (mode === 'fool') {
        do {
          fakeWord = constellations[Math.floor(Math.random() * constellations.length)];
        } while (fakeWord === secretWord);
      }

      players = Array(count).fill(null);
      currentIndex = 0;

      document.getElementById("setup").classList.add("hidden");
      document.getElementById("reveal").classList.remove("hidden");
      document.getElementById("end").classList.add("hidden");

      showPlayer();
    }

    function showPlayer() {
      document.getElementById("playerTurn").innerText = `ğŸ‘¤ ${currentIndex + 1}ë²ˆì§¸ ì°¸ê°€ì`;
      document.getElementById("wordInfo").innerText = "ì œì‹œì–´ë¥¼ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.";
      showed = false;
    }

    function nextPlayer() {
      const info = document.getElementById("wordInfo");

      if (!showed) {
        if (currentIndex === liarIndex) {
          if (mode === 'normal') {
            info.innerHTML = "<span class='highlight-word'>ğŸ•µï¸â€â™‚ï¸ ë‹¹ì‹ ì€ <strong>ë¼ì´ì–´</strong>ì…ë‹ˆë‹¤. ì œì‹œì–´ë¥¼ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!</span>";
          } else {
            info.innerHTML = `<span class="highlight-word">ğŸŒŸ ì œì‹œì–´ëŠ” "<strong>${fakeWord}</strong>" ì…ë‹ˆë‹¤!</span>`;
          }
        } else {
          info.innerHTML = `<span class="highlight-word">ğŸŒŸ ì œì‹œì–´ëŠ” "<strong>${secretWord}</strong>" ì…ë‹ˆë‹¤!</span>`;
        }
        showed = true;
      } else {
        currentIndex++;
        if (currentIndex >= players.length) {
          document.getElementById("reveal").classList.add("hidden");
          document.getElementById("end").classList.remove("hidden");
        } else {
          showPlayer();
        }
      }
    }

    function restartGame() {
      players = [];
      liarIndex = 0;
      secretWord = '';
      fakeWord = '';
      currentIndex = 0;
      showed = false;
      mode = 'normal';

      document.getElementById("end").classList.add("hidden");
      document.getElementById("setup").classList.remove("hidden");
      document.getElementById("playerCount").value = '';
    }
  </script>
</body>
</html>
